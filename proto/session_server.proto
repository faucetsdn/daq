/*
 * Collection of messages for testing service endpoing.
 */

syntax = "proto3";

/*
 * Params for session initialization.
 */
message SessionParams {
  string device_mac = 1;
  int32 device_vlan = 2;
  int32 native_vlan = 3;
}

/*
 * Session progress updates.
 */
message SessionProgress {
  string endpoint_ip = 1;
  SessionResult.ResultCode session_result = 2;
}

message SessionResult {
  enum ResultCode {
    PENDING = 0;
    ERROR = 1;
    CLEAR = 2;
    FAILED = 3;
  }
}

/*
 * Device testing session server endpoint.
 */
service SessionServer {
  rpc StartSession(SessionParams) returns (stream SessionProgress) {}
}
